<!DOCTYPE html>

<html>
    <head>
        <title>Day 31</title>
        <meta name="viewport" content="width=device-width">
        <link href="http://saasmath.seattleacademy.org/css/bootstrap.css" rel="stylesheet">
        <link href="http://saasmath.seattleacademy.org/css/jqx.base.css" rel="stylesheet">

        <script src="http://saasmath.seattleacademy.org/js/jquery.js"></script>
        <script src="http://saasmath.seattleacademy.org/js/bootstrap.js"></script>
        <script src="http://saasmath.seattleacademy.org/js/jqx-all.js"></script>

        <script type="text/javascript">
            $(document).ready(function() {
                var data = [
                    {sensor: 'left', value:200},
                    {sensor: 'left-front',value:300},
                    {sensor: 'right-front', value:400},
                    {sensor: 'right', value:600}
                ];
                // prepare jqxChart settings
                var settings = {
                    title: "Cliff Sensors",
                    description: "Responds to reflections",
                    enableAnimations: true,
                    animationDuration: 1000,
                    enableAxisTextAnimation: true,
                    showLegend: true,
                    padding: {left: 5, top: 5, right: 5, bottom: 5},
                    titlePadding: {left: 0, top: 0, right: 0, bottom: 10},
                    source: data,
                    categoryAxis:
                            {
                                unitInterval: 1,
                                gridLinesInterval: 2,
                                valuesOnTicks: false
                            },
                    //colorScheme: 'scheme03',
                    seriesGroups:
                            [
                                {
                                    type: 'column',
                                    columnsGapPercent: 50,
                                    alignEndPointsWithIntervals: true,
                                    valueAxis:
                                            {
                                                minValue: 0,
                                                maxValue: 1200,
                                                description: 'Sensor Value'
                                            },
                                    series: [
                                        {dataField: 'value', displayText: 'value', opacity: 1, lineWidth: 1, symbolType: 'circle', fillColorSymbolSelected: 'white', radius: 15},
                                    ]
                                }
                            ]
                };
                $('#chart').jqxChart(settings);


                // auto update timer
                var ttimer = setInterval(function() {
                    var max = 800;
                    for (var i = 0; i < data.length; i++) {
                        data[i].value = Math.max(100, (Math.random() * 1000) % max);
                    }
                    $('#chart').jqxChart('update');
                }, 3000);
            });
        </script>
    </head>
    <body>
        <div id='chart' style="width: 340px; height: 200px"></div>

    </body>
</html>